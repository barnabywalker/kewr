<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Match names with KNMS. — match_knms • kewr</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Match names with KNMS. — match_knms"><meta property="og:description" content="Use the Kew Names Matching Service to match taxon names to
records in Plants of the World Online."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">kewr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.6.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/IPNI.html">IPNI</a>
    </li>
    <li>
      <a href="../articles/KNMS.html">KNMS</a>
    </li>
    <li>
      <a href="../articles/KRS.html">KRS</a>
    </li>
    <li>
      <a href="../articles/POWO.html">POWO</a>
    </li>
    <li>
      <a href="../articles/ToL.html">ToL</a>
    </li>
    <li>
      <a href="../articles/WCVP.html">WCVP</a>
    </li>
    <li>
      <a href="../articles/building-checklist.html">Building a species checklist</a>
    </li>
    <li>
      <a href="../articles/conservation-status-treeoflife.html">Putting conservation status on the Tree of Life</a>
    </li>
    <li>
      <a href="../articles/mapping-assessed-species.html">Mapping assessed species</a>
    </li>
    <li>
      <a href="../articles/retrieve-all-query-results.html">Retrieving all results for a query</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/barnabywalker/kewr/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Match names with KNMS.</h1>
    <small class="dont-index">Source: <a href="https://github.com/barnabywalker/kewr/blob/HEAD/R/knms.R"><code>R/knms.R</code></a></small>
    <div class="hidden name"><code>match_knms.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Use the Kew Names Matching Service to match taxon names to
records in Plants of the World Online.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">match_knms</span><span class="op">(</span><span class="va">names</span><span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>names</dt>
<dd><p>A list or character vector of taxon names for matching.
Must not contain missing values.</p></dd>
</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>A <code>knms_match</code> object - a simple structure containing the match
results and some statistics about the number of matches.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>The <a href="http://namematch.science.kew.org/" class="external-link">Kew Names Matching Service (KNMS)</a> allows
a user to submit taxon names for matching against records in
<a href="http://powo.science.kew.org/" class="external-link">Plants of the World Online (POWO)</a>.
As far as I can tell, it uses exact matching as well as some rules-based matching
to account for common orthographic variants and Latin mistakes.</p>
<p>Names can be submitted to KNMS with or without an author string.
If a name can match to multiple different records, for instance
with synonyms, KNMS will return multiple matches. As such, we recommend
submitting names first with the taxonomic authority and then without
if no match can be found.</p>
<p>KNMS allows multiple names to be submitted at once. However, it can
be slow in returning results if too many names are submitted. For lots of names,
<a href="http://namematch.science.kew.org/csv" class="external-link">the website provides an interface for submitting a CSV file</a>.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"></span>
<span class="r-in"><span class="co"># match a name</span></span>
<span class="r-in"><span class="fu">match_knms</span><span class="op">(</span><span class="st">"Poa annua L."</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;KNMS match: 1 names submitted&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Matches returned: 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Multiple matches: 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Unmatched names: 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> List of 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ :List of 4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ : chr "Poa annua L."</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ : chr "true"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ : chr "urn:lsid:ipni.org:names:320035-2"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ : chr "Poa annua Sp. Pl.: 68 (1753) L. 1753"</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># match a vector of names</span></span>
<span class="r-in"><span class="va">names</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Myrcia guianensis"</span>, <span class="st">"Calyptranthes ranulphii"</span>, <span class="st">"Poa annua"</span><span class="op">)</span></span>
<span class="r-in"><span class="fu">match_knms</span><span class="op">(</span><span class="va">names</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;KNMS match: 3 names submitted&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Matches returned: 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Multiple matches: 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Unmatched names: 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> List of 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ :List of 4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ : chr "Myrcia guianensis"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ : chr "true"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ : chr "urn:lsid:ipni.org:names:598851-1"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ : chr "Myrcia guianensis Prodr. 3: 245 (1828) (Aubl.) DC. 1828"</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># tidy match results into a table</span></span>
<span class="r-in"><span class="va">names</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Myrcia guianensis"</span>, <span class="st">"Bad plant"</span>, <span class="st">"Poa annua"</span><span class="op">)</span></span>
<span class="r-in"><span class="va">matches</span> <span class="op">&lt;-</span> <span class="fu">match_knms</span><span class="op">(</span><span class="va">names</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://generics.r-lib.org/reference/tidy.html" class="external-link">tidy</a></span><span class="op">(</span><span class="va">matches</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 4 × 4</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   submitted         matched ipni_id  matched_record                             </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> Myrcia guianensis TRUE    598851-1 Myrcia guianensis Prodr. 3: 245 (1828) (Au…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span> Bad plant         FALSE   <span style="color: #BB0000;">NA</span>       <span style="color: #BB0000;">NA</span>                                         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span> Poa annua         TRUE    416502-1 Poa annua Linnaea 6: 38 (1831) Schltdl. &amp; …</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">4</span> Poa annua         TRUE    320035-2 Poa annua Sp. Pl.: 68 (1753) L. 1753       </span>
<span class="r-in"></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Barnaby Walker.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.1.</p>
</div>

      </footer></div>

  


  

  </body></html>

